<view class="container">
  <view class="profile">
    <view class="profile-info" wx:if="hasLogin" bind:tap="goProfile">
      <view class="avatar">
        <image src="{{userInfo.avatarUrl}}" mode="aspectFit" />
      </view>
      <view class="info">
        <text class="name">{{userInfo.nickName}}</text>
      </view>
    </view>
    
    <view class="profile-info" wx:else>
      <view class="avatar">
        <image src="{{userInfo.avatarUrl}}" mode="aspectFit" />
      </view>
      <view class="login">
        <button wx:if="{{canIUseGetUserProfile}}" bindtap="wxLogin"> 点击登录 </button>
        <button wx:else open-type="getUserInfo" bindgetuserinfo="wxLogin"> 点击登录 </button>
      </view>
    </view>

  </view>
  
  <view class="menu">
    <view class="menu-list">
      <view class="menu-item" bindtap='goOrder'>
        <view class='title'>
          <van-icon name="coupon-o" />
          <text>我的订单</text>
        </view>
        <van-icon name="arrow" />   
      </view>

      <view class="menu-item" bindtap='goCoupon'>
        <view class='title'>
          <view class="icon">
            <image src='/static/images/coupon.png'></image>
          </view>
          <text>优惠卷</text>
        </view>
        <van-icon name="arrow" />   
      </view>

      <view class="menu-item" bindtap='goCollect'>
        <view class='title'>
          <view class="icon">
            <image src='/static/images/collect.png'></image>
          </view>
          <text>收藏夹</text>
        </view>
        <van-icon name="arrow" />   
      </view>

      <view class="menu-item" bindtap='goFootprint'>
        <view class='title'>
          <view class="icon">
            <image src='/static/images/footprint.png'></image>
          </view>
          <text>浏览足迹</text>
        </view>
        <van-icon name="arrow" />   
      </view>
      
      <view class="menu-item" bindtap='goAddress'>
        <view class='title'>
          <view class="icon">
            <image src='/static/images/address.png'></image>
          </view>
          <text>地址管理</text>
        </view>
        <van-icon name="arrow" />   
      </view>
    </view>
  </view>

  <view class="menu">
    <view class="menu-list">
      <view class="menu-item" open-type="getPhoneNumber" bindgetphonenumber="bindPhoneNumber">
        <view class='title'>
          <view class="icon">
            <image src='/static/images/mobile.png'></image>
          </view>
          <text>绑定手机</text>
        </view>
        <van-icon name="arrow" />   
      </view>

      <view class="menu-item" bindtap='goHelp'>
        <view class='title'>
          <view class="icon">
            <image src='/static/images/help.png'></image>
          </view>
          <text>帮助中心</text>
        </view>
        <van-icon name="arrow" />   
      </view>

      <view class="menu-item" bindtap='goFeedback'>
        <view class='title'>
          <view class="icon">
            <image src='/static/images/feedback.png'></image>
          </view>
          <text>意见反馈</text>
        </view>
        <van-icon name="arrow" />   
      </view>

      <view class="menu-item">
        <button class="kf_button" open-type="contact" session-from="weapp">
          <view class='title'>
            <view class="icon">
              <image src='/static/images/customer.png'></image>
            </view>
            <text>联系客服</text>
          </view>
          <van-icon name="arrow" size="30rpx" />   
        </button>
      </view>

      <view class="menu-item" bindtap='aboutUs'>
        <view class='title'>
          <view class="icon">
            <image src='/static/images/about.png'></image>
          </view>
          <text>关于我们</text>
        </view>
        <van-icon name="arrow" />   
      </view>

    </view>
  </view>
</view>